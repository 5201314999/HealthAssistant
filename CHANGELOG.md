# 更新日志

## v2.0.0 - UI 美化与功能增强版

### 🎨 UI 全面升级

#### 首页优化

- ✅ **渐变标题栏** - 添加绿色渐变背景，更具现代感
- ✅ **卡片阴影效果** - 所有功能卡片添加柔和阴影，增强层次感
- ✅ **点击动画** - 卡片点击时缩放反馈，提升交互体验
- ✅ **优化提醒卡片** - 橙色渐变背景，更醒目的用药提醒
- ✅ **新增引导入口** - 右上角书本图标，预留新手引导入口

#### 数据录入页面

- ✅ **卡片化设计** - 检查信息、检测指标、备注分别独立卡片
- ✅ **优化表单样式** - 更大的按钮，更清晰的分组
- ✅ **增强视觉层次** - 使用圆角、阴影、渐变增强视觉效果

### 📋 功能增强

#### 健康记录扩展

- ✅ **医院字段** - 记录就诊医院名称
- ✅ **医生字段** - 记录主诊医生姓名
- ✅ **检查时间** - 独立的检查时间字段（可与录入时间不同）
- ✅ **时间选择器** - 支持自定义检查时间（待完善）

#### 智能用药提醒

- ✅ **系统通知集成** - 使用 HarmonyOS 通知系统
- ✅ **后台提醒代理** - 即使应用关闭也能收到提醒
- ✅ **多时段提醒** - 支持早上、中午、晚上、睡前四个时段
- ✅ **自动提醒创建** - 添加药品时自动创建对应时段的提醒
- ✅ **提醒管理** - 删除药品时自动取消相关提醒
- ✅ **权限处理** - 自动请求通知权限

#### 新手引导（占位）

- ✅ **引导页面** - 创建了基础引导页面结构
- 📝 **待实现** - 具体引导内容待后续设计

### 🔧 技术改进

#### 新增工具类

- `NotificationManager.ets` - 统一的通知管理工具
  - 通知权限请求
  - 普通通知发送
  - 用药提醒创建
  - 提醒取消与管理

#### 数据模型升级

- `HealthRecord` - 扩展三个新字段
  - `hospital: string` - 医院名称
  - `doctor: string` - 医生姓名
  - `checkTime: number` - 检查时间
- 完整的 JSON 序列化/反序列化支持

#### 配置更新

- `module.json5` - 添加通知权限声明
- `main_pages.json` - 添加新手引导页面路由
- `string.json` - 添加权限说明文案

### 🎯 用户体验提升

1. **视觉效果**

   - 渐变色背景提升品质感
   - 卡片阴影增强层次感
   - 动画反馈提升交互感

2. **信息完整性**

   - 记录就诊医院和医生信息
   - 独立的检查时间字段
   - 更全面的健康档案

3. **智能提醒**
   - 无需打开应用即可收到提醒
   - 多时段自定义提醒
   - 自动化提醒管理

### 📱 系统要求

- HarmonyOS 6.0+
- 需要授权通知权限
- 需要授权后台提醒代理权限

### 🚀 下一步计划

- [ ] 完善新手引导内容
- [ ] 实现时间选择器交互
- [ ] 添加数据导出功能
- [ ] 支持数据云同步
- [ ] 添加数据统计图表
- [ ] 支持自定义提醒时间
- [ ] 添加用药历史统计

### 🐛 已知问题

- 时间选择器待实现（目前点击会设置为当前时间）
- 新手引导内容待设计

---

**版本发布日期**: 2025-10-12  
**更新类型**: 重大更新
